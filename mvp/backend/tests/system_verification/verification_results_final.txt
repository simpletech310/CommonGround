============================= test session starts ==============================
platform darwin -- Python 3.10.9, pytest-9.0.2, pluggy-1.6.0 -- /Users/tj/Desktop/CommonGround/mvp/backend/venv/bin/python
cachedir: .pytest_cache
rootdir: /Users/tj/Desktop/CommonGround
plugins: anyio-4.12.0, asyncio-1.3.0, langsmith-0.5.1, cov-7.0.0
asyncio: mode=strict, debug=False, asyncio_default_fixture_loop_scope=None, asyncio_default_test_loop_scope=function
collecting ... collected 13 items

mvp/backend/tests/system_verification/test_auth_verification.py::test_auth_flow FAILED [  7%]
mvp/backend/tests/system_verification/test_health_checks.py::TestDatabaseHealth::test_database_connection PASSED [ 15%]
mvp/backend/tests/system_verification/test_health_checks.py::TestDatabaseHealth::test_database_tables_exist PASSED [ 23%]
mvp/backend/tests/system_verification/test_health_checks.py::TestRedisHealth::test_redis_connection PASSED [ 30%]
mvp/backend/tests/system_verification/test_health_checks.py::TestRedisHealth::test_redis_performance PASSED [ 38%]
mvp/backend/tests/system_verification/test_health_checks.py::TestExternalAPIs::test_supabase_connectivity PASSED [ 46%]
mvp/backend/tests/system_verification/test_health_checks.py::TestExternalAPIs::test_anthropic_api_connectivity PASSED [ 53%]
mvp/backend/tests/system_verification/test_health_checks.py::TestExternalAPIs::test_openai_api_connectivity PASSED [ 61%]
mvp/backend/tests/system_verification/test_health_checks.py::TestApplicationHealth::test_application_startup PASSED [ 69%]
mvp/backend/tests/system_verification/test_health_checks.py::TestApplicationHealth::test_health_endpoint PASSED [ 76%]
mvp/backend/tests/system_verification/test_health_checks.py::TestApplicationHealth::test_openapi_docs_accessible PASSED [ 84%]
mvp/backend/tests/system_verification/test_health_checks.py::TestPerformance::test_database_query_performance PASSED [ 92%]
mvp/backend/tests/system_verification/test_health_checks.py::TestPerformance::test_concurrent_requests PASSED [100%]

=================================== FAILURES ===================================
________________________________ test_auth_flow ________________________________

self = <sqlalchemy.engine.base.Connection object at 0x7ff0664791e0>
dialect = <sqlalchemy.dialects.sqlite.aiosqlite.SQLiteDialect_aiosqlite object at 0x7ff066202cb0>
context = <sqlalchemy.dialects.sqlite.aiosqlite.SQLiteExecutionContext_aiosqlite object at 0x7ff06647a5c0>
statement = <sqlalchemy.dialects.sqlite.base.SQLiteCompiler object at 0x7ff0619b4130>
parameters = [('qa_verify_auth@example.com',)]

    def _exec_single_context(
        self,
        dialect: Dialect,
        context: ExecutionContext,
        statement: Union[str, Compiled],
        parameters: Optional[_AnyMultiExecuteParams],
    ) -> CursorResult[Any]:
        """continue the _execute_context() method for a single DBAPI
        cursor.execute() or cursor.executemany() call.
    
        """
        if dialect.bind_typing is BindTyping.SETINPUTSIZES:
            generic_setinputsizes = context._prepare_set_input_sizes()
    
            if generic_setinputsizes:
                try:
                    dialect.do_set_input_sizes(
                        context.cursor, generic_setinputsizes, context
                    )
                except BaseException as e:
                    self._handle_dbapi_exception(
                        e, str(statement), parameters, None, context
                    )
    
        cursor, str_statement, parameters = (
            context.cursor,
            context.statement,
            context.parameters,
        )
    
        effective_parameters: Optional[_AnyExecuteParams]
    
        if not context.executemany:
            effective_parameters = parameters[0]
        else:
            effective_parameters = parameters
    
        if self._has_events or self.engine._has_events:
            for fn in self.dispatch.before_cursor_execute:
                str_statement, effective_parameters = fn(
                    self,
                    cursor,
                    str_statement,
                    effective_parameters,
                    context,
                    context.executemany,
                )
    
        if self._echo:
            self._log_info(str_statement)
    
            stats = context._get_cache_stats()
    
            if not self.engine.hide_parameters:
                self._log_info(
                    "[%s] %r",
                    stats,
                    sql_util._repr_params(
                        effective_parameters,
                        batches=10,
                        ismulti=context.executemany,
                    ),
                )
            else:
                self._log_info(
                    "[%s] [SQL parameters hidden due to hide_parameters=True]",
                    stats,
                )
    
        evt_handled: bool = False
        try:
            if context.execute_style is ExecuteStyle.EXECUTEMANY:
                effective_parameters = cast(
                    "_CoreMultiExecuteParams", effective_parameters
                )
                if self.dialect._has_events:
                    for fn in self.dialect.dispatch.do_executemany:
                        if fn(
                            cursor,
                            str_statement,
                            effective_parameters,
                            context,
                        ):
                            evt_handled = True
                            break
                if not evt_handled:
                    self.dialect.do_executemany(
                        cursor,
                        str_statement,
                        effective_parameters,
                        context,
                    )
            elif not effective_parameters and context.no_parameters:
                if self.dialect._has_events:
                    for fn in self.dialect.dispatch.do_execute_no_params:
                        if fn(cursor, str_statement, context):
                            evt_handled = True
                            break
                if not evt_handled:
                    self.dialect.do_execute_no_params(
                        cursor, str_statement, context
                    )
            else:
                effective_parameters = cast(
                    "_CoreSingleExecuteParams", effective_parameters
                )
                if self.dialect._has_events:
                    for fn in self.dialect.dispatch.do_execute:
                        if fn(
                            cursor,
                            str_statement,
                            effective_parameters,
                            context,
                        ):
                            evt_handled = True
                            break
                if not evt_handled:
>                   self.dialect.do_execute(
                        cursor, str_statement, effective_parameters, context
                    )

mvp/backend/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py:1967: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 
mvp/backend/venv/lib/python3.10/site-packages/sqlalchemy/engine/default.py:952: in do_execute
    cursor.execute(statement, parameters)
mvp/backend/venv/lib/python3.10/site-packages/sqlalchemy/dialects/sqlite/aiosqlite.py:180: in execute
    self._adapt_connection._handle_exception(error)
mvp/backend/venv/lib/python3.10/site-packages/sqlalchemy/dialects/sqlite/aiosqlite.py:340: in _handle_exception
    raise error
mvp/backend/venv/lib/python3.10/site-packages/sqlalchemy/dialects/sqlite/aiosqlite.py:162: in execute
    self.await_(_cursor.execute(operation, parameters))
mvp/backend/venv/lib/python3.10/site-packages/sqlalchemy/util/_concurrency_py3k.py:132: in await_only
    return current.parent.switch(awaitable)  # type: ignore[no-any-return,attr-defined] # noqa: E501
mvp/backend/venv/lib/python3.10/site-packages/sqlalchemy/util/_concurrency_py3k.py:196: in greenlet_spawn
    value = await result
mvp/backend/venv/lib/python3.10/site-packages/aiosqlite/cursor.py:40: in execute
    await self._execute(self._cursor.execute, sql, parameters)
mvp/backend/venv/lib/python3.10/site-packages/aiosqlite/cursor.py:32: in _execute
    return await self._conn._execute(fn, *args, **kwargs)
mvp/backend/venv/lib/python3.10/site-packages/aiosqlite/core.py:160: in _execute
    return await future
../../miniconda3/lib/python3.10/asyncio/tasks.py:304: in __wakeup
    future.result()
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 

tx = <_queue.SimpleQueue object at 0x7ff0662fb060>

    def _connection_worker_thread(tx: _TxQueue):
        """
        Execute function calls on a separate thread.
    
        :meta private:
        """
        while True:
            # Continues running until all queue items are processed,
            # even after connection is closed (so we can finalize all
            # futures)
    
            future, function = tx.get()
    
            try:
                LOG.debug("executing %s", function)
>               result = function()
E               sqlite3.OperationalError: no such table: users

mvp/backend/venv/lib/python3.10/site-packages/aiosqlite/core.py:63: OperationalError

The above exception was the direct cause of the following exception:

test_client = <httpx.AsyncClient object at 0x7ff066224c10>

    @pytest.mark.asyncio
    async def test_auth_flow(test_client: AsyncClient):
        """
        Verify complete Authentication flow: Register -> Login -> Me -> Refresh -> Logout
        """
        # 1. Register
        register_data = {
            "email": "qa_verify_auth@example.com",
            "password": "TestPassword123!",
            "first_name": "QA",
            "last_name": "Verify",
            "phone": "+15550000000"
        }
    
        # Clean up if exists (optional, or rely on test db isolation)
        # The test db isolation in conftest should handle this empty state.
    
>       response = await test_client.post("/api/v1/auth/register", json=register_data)

mvp/backend/tests/system_verification/test_auth_verification.py:23: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 
mvp/backend/venv/lib/python3.10/site-packages/httpx/_client.py:1859: in post
    return await self.request(
mvp/backend/venv/lib/python3.10/site-packages/httpx/_client.py:1540: in request
    return await self.send(request, auth=auth, follow_redirects=follow_redirects)
mvp/backend/venv/lib/python3.10/site-packages/httpx/_client.py:1629: in send
    response = await self._send_handling_auth(
mvp/backend/venv/lib/python3.10/site-packages/httpx/_client.py:1657: in _send_handling_auth
    response = await self._send_handling_redirects(
mvp/backend/venv/lib/python3.10/site-packages/httpx/_client.py:1694: in _send_handling_redirects
    response = await self._send_single_request(request)
mvp/backend/venv/lib/python3.10/site-packages/httpx/_client.py:1730: in _send_single_request
    response = await transport.handle_async_request(request)
mvp/backend/venv/lib/python3.10/site-packages/httpx/_transports/asgi.py:170: in handle_async_request
    await self.app(scope, receive, send)
mvp/backend/venv/lib/python3.10/site-packages/fastapi/applications.py:1135: in __call__
    await super().__call__(scope, receive, send)
mvp/backend/venv/lib/python3.10/site-packages/starlette/applications.py:107: in __call__
    await self.middleware_stack(scope, receive, send)
mvp/backend/venv/lib/python3.10/site-packages/starlette/middleware/errors.py:186: in __call__
    raise exc
mvp/backend/venv/lib/python3.10/site-packages/starlette/middleware/errors.py:164: in __call__
    await self.app(scope, receive, _send)
mvp/backend/venv/lib/python3.10/site-packages/starlette/middleware/gzip.py:29: in __call__
    await responder(scope, receive, send)
mvp/backend/venv/lib/python3.10/site-packages/starlette/middleware/gzip.py:130: in __call__
    await super().__call__(scope, receive, send)
mvp/backend/venv/lib/python3.10/site-packages/starlette/middleware/gzip.py:46: in __call__
    await self.app(scope, receive, self.send_with_compression)
mvp/backend/venv/lib/python3.10/site-packages/starlette/middleware/cors.py:85: in __call__
    await self.app(scope, receive, send)
mvp/backend/venv/lib/python3.10/site-packages/starlette/middleware/exceptions.py:63: in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
mvp/backend/venv/lib/python3.10/site-packages/starlette/_exception_handler.py:53: in wrapped_app
    raise exc
mvp/backend/venv/lib/python3.10/site-packages/starlette/_exception_handler.py:42: in wrapped_app
    await app(scope, receive, sender)
mvp/backend/venv/lib/python3.10/site-packages/fastapi/middleware/asyncexitstack.py:18: in __call__
    await self.app(scope, receive, send)
mvp/backend/venv/lib/python3.10/site-packages/starlette/routing.py:716: in __call__
    await self.middleware_stack(scope, receive, send)
mvp/backend/venv/lib/python3.10/site-packages/starlette/routing.py:736: in app
    await route.handle(scope, receive, send)
mvp/backend/venv/lib/python3.10/site-packages/starlette/routing.py:290: in handle
    await self.app(scope, receive, send)
mvp/backend/venv/lib/python3.10/site-packages/fastapi/routing.py:115: in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
mvp/backend/venv/lib/python3.10/site-packages/starlette/_exception_handler.py:53: in wrapped_app
    raise exc
mvp/backend/venv/lib/python3.10/site-packages/starlette/_exception_handler.py:42: in wrapped_app
    await app(scope, receive, sender)
mvp/backend/venv/lib/python3.10/site-packages/fastapi/routing.py:101: in app
    response = await f(request)
mvp/backend/venv/lib/python3.10/site-packages/fastapi/routing.py:355: in app
    raw_response = await run_endpoint_function(
mvp/backend/venv/lib/python3.10/site-packages/fastapi/routing.py:243: in run_endpoint_function
    return await dependant.call(**values)
mvp/backend/app/api/v1/endpoints/auth.py:32: in register
    user, access_token, refresh_token = await auth_service.register_user(request)
mvp/backend/app/services/auth.py:47: in register_user
    result = await self.db.execute(
mvp/backend/venv/lib/python3.10/site-packages/sqlalchemy/ext/asyncio/session.py:449: in execute
    result = await greenlet_spawn(
mvp/backend/venv/lib/python3.10/site-packages/sqlalchemy/util/_concurrency_py3k.py:201: in greenlet_spawn
    result = context.throw(*sys.exc_info())
mvp/backend/venv/lib/python3.10/site-packages/sqlalchemy/orm/session.py:2351: in execute
    return self._execute_internal(
mvp/backend/venv/lib/python3.10/site-packages/sqlalchemy/orm/session.py:2249: in _execute_internal
    result: Result[Any] = compile_state_cls.orm_execute_statement(
mvp/backend/venv/lib/python3.10/site-packages/sqlalchemy/orm/context.py:306: in orm_execute_statement
    result = conn.execute(
mvp/backend/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py:1419: in execute
    return meth(
mvp/backend/venv/lib/python3.10/site-packages/sqlalchemy/sql/elements.py:527: in _execute_on_connection
    return connection._execute_clauseelement(
mvp/backend/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py:1641: in _execute_clauseelement
    ret = self._execute_context(
mvp/backend/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py:1846: in _execute_context
    return self._exec_single_context(
mvp/backend/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py:1986: in _exec_single_context
    self._handle_dbapi_exception(
mvp/backend/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py:2363: in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
mvp/backend/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py:1967: in _exec_single_context
    self.dialect.do_execute(
mvp/backend/venv/lib/python3.10/site-packages/sqlalchemy/engine/default.py:952: in do_execute
    cursor.execute(statement, parameters)
mvp/backend/venv/lib/python3.10/site-packages/sqlalchemy/dialects/sqlite/aiosqlite.py:180: in execute
    self._adapt_connection._handle_exception(error)
mvp/backend/venv/lib/python3.10/site-packages/sqlalchemy/dialects/sqlite/aiosqlite.py:340: in _handle_exception
    raise error
mvp/backend/venv/lib/python3.10/site-packages/sqlalchemy/dialects/sqlite/aiosqlite.py:162: in execute
    self.await_(_cursor.execute(operation, parameters))
mvp/backend/venv/lib/python3.10/site-packages/sqlalchemy/util/_concurrency_py3k.py:132: in await_only
    return current.parent.switch(awaitable)  # type: ignore[no-any-return,attr-defined] # noqa: E501
mvp/backend/venv/lib/python3.10/site-packages/sqlalchemy/util/_concurrency_py3k.py:196: in greenlet_spawn
    value = await result
mvp/backend/venv/lib/python3.10/site-packages/aiosqlite/cursor.py:40: in execute
    await self._execute(self._cursor.execute, sql, parameters)
mvp/backend/venv/lib/python3.10/site-packages/aiosqlite/cursor.py:32: in _execute
    return await self._conn._execute(fn, *args, **kwargs)
mvp/backend/venv/lib/python3.10/site-packages/aiosqlite/core.py:160: in _execute
    return await future
../../miniconda3/lib/python3.10/asyncio/tasks.py:304: in __wakeup
    future.result()
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 

tx = <_queue.SimpleQueue object at 0x7ff0662fb060>

    def _connection_worker_thread(tx: _TxQueue):
        """
        Execute function calls on a separate thread.
    
        :meta private:
        """
        while True:
            # Continues running until all queue items are processed,
            # even after connection is closed (so we can finalize all
            # futures)
    
            future, function = tx.get()
    
            try:
                LOG.debug("executing %s", function)
>               result = function()
E               sqlalchemy.exc.OperationalError: (sqlite3.OperationalError) no such table: users
E               [SQL: SELECT users.supabase_id, users.email, users.email_verified, users.phone, users.phone_verified, users.first_name, users.last_name, users.is_active, users.is_deleted, users.deleted_at, users.mfa_enabled, users.last_login, users.last_active, users.id, users.created_at, users.updated_at 
E               FROM users 
E               WHERE users.email = ?]
E               [parameters: ('qa_verify_auth@example.com',)]
E               (Background on this error at: https://sqlalche.me/e/20/e3q8)

mvp/backend/venv/lib/python3.10/site-packages/aiosqlite/core.py:63: OperationalError
=============================== warnings summary ===============================
mvp/backend/app/schemas/auth.py:78
  /Users/tj/Desktop/CommonGround/mvp/backend/app/schemas/auth.py:78: PydanticDeprecatedSince20: Support for class-based `config` is deprecated, use ConfigDict instead. Deprecated in Pydantic V2.0 to be removed in V3.0. See Pydantic V2 Migration Guide at https://errors.pydantic.dev/2.12/migration/
    class UserResponse(BaseModel):

mvp/backend/venv/lib/python3.10/site-packages/pyiceberg/expressions/parser.py:72
  /Users/tj/Desktop/CommonGround/mvp/backend/venv/lib/python3.10/site-packages/pyiceberg/expressions/parser.py:72: DeprecationWarning: 'enablePackrat' deprecated - use 'enable_packrat'
    ParserElement.enablePackrat()

mvp/backend/venv/lib/python3.10/site-packages/pyiceberg/expressions/parser.py:85
  /Users/tj/Desktop/CommonGround/mvp/backend/venv/lib/python3.10/site-packages/pyiceberg/expressions/parser.py:85: DeprecationWarning: 'escChar' argument is deprecated, use 'esc_char'
    quoted_identifier = QuotedString('"', escChar="\\", unquoteResults=True)

mvp/backend/venv/lib/python3.10/site-packages/pyiceberg/expressions/parser.py:85
  /Users/tj/Desktop/CommonGround/mvp/backend/venv/lib/python3.10/site-packages/pyiceberg/expressions/parser.py:85: DeprecationWarning: 'unquoteResults' argument is deprecated, use 'unquote_results'
    quoted_identifier = QuotedString('"', escChar="\\", unquoteResults=True)

mvp/backend/venv/lib/python3.10/site-packages/pyiceberg/table/metadata.py:366
  /Users/tj/Desktop/CommonGround/mvp/backend/venv/lib/python3.10/site-packages/pyiceberg/table/metadata.py:366: PydanticDeprecatedSince212: Using `@model_validator` with mode='after' on a classmethod is deprecated. Instead, use an instance method. See the documentation at https://docs.pydantic.dev/2.12/concepts/validators/#model-after-validator. Deprecated in Pydantic V2.12 to be removed in V3.0.
    def construct_refs(cls, data: TableMetadataV1) -> TableMetadataV1:

mvp/backend/venv/lib/python3.10/site-packages/pyiceberg/table/metadata.py:495
  /Users/tj/Desktop/CommonGround/mvp/backend/venv/lib/python3.10/site-packages/pyiceberg/table/metadata.py:495: PydanticDeprecatedSince212: Using `@model_validator` with mode='after' on a classmethod is deprecated. Instead, use an instance method. See the documentation at https://docs.pydantic.dev/2.12/concepts/validators/#model-after-validator. Deprecated in Pydantic V2.12 to be removed in V3.0.
    def check_schemas(cls, table_metadata: TableMetadata) -> TableMetadata:

mvp/backend/venv/lib/python3.10/site-packages/pyiceberg/table/metadata.py:499
  /Users/tj/Desktop/CommonGround/mvp/backend/venv/lib/python3.10/site-packages/pyiceberg/table/metadata.py:499: PydanticDeprecatedSince212: Using `@model_validator` with mode='after' on a classmethod is deprecated. Instead, use an instance method. See the documentation at https://docs.pydantic.dev/2.12/concepts/validators/#model-after-validator. Deprecated in Pydantic V2.12 to be removed in V3.0.
    def check_partition_specs(cls, table_metadata: TableMetadata) -> TableMetadata:

mvp/backend/venv/lib/python3.10/site-packages/pyiceberg/table/metadata.py:503
  /Users/tj/Desktop/CommonGround/mvp/backend/venv/lib/python3.10/site-packages/pyiceberg/table/metadata.py:503: PydanticDeprecatedSince212: Using `@model_validator` with mode='after' on a classmethod is deprecated. Instead, use an instance method. See the documentation at https://docs.pydantic.dev/2.12/concepts/validators/#model-after-validator. Deprecated in Pydantic V2.12 to be removed in V3.0.
    def check_sort_orders(cls, table_metadata: TableMetadata) -> TableMetadata:

mvp/backend/venv/lib/python3.10/site-packages/pyiceberg/table/metadata.py:507
  /Users/tj/Desktop/CommonGround/mvp/backend/venv/lib/python3.10/site-packages/pyiceberg/table/metadata.py:507: PydanticDeprecatedSince212: Using `@model_validator` with mode='after' on a classmethod is deprecated. Instead, use an instance method. See the documentation at https://docs.pydantic.dev/2.12/concepts/validators/#model-after-validator. Deprecated in Pydantic V2.12 to be removed in V3.0.
    def construct_refs(cls, table_metadata: TableMetadata) -> TableMetadata:

mvp/backend/venv/lib/python3.10/site-packages/pyiceberg/table/metadata.py:539
  /Users/tj/Desktop/CommonGround/mvp/backend/venv/lib/python3.10/site-packages/pyiceberg/table/metadata.py:539: PydanticDeprecatedSince212: Using `@model_validator` with mode='after' on a classmethod is deprecated. Instead, use an instance method. See the documentation at https://docs.pydantic.dev/2.12/concepts/validators/#model-after-validator. Deprecated in Pydantic V2.12 to be removed in V3.0.
    def check_schemas(cls, table_metadata: TableMetadata) -> TableMetadata:

mvp/backend/venv/lib/python3.10/site-packages/pyiceberg/table/metadata.py:543
  /Users/tj/Desktop/CommonGround/mvp/backend/venv/lib/python3.10/site-packages/pyiceberg/table/metadata.py:543: PydanticDeprecatedSince212: Using `@model_validator` with mode='after' on a classmethod is deprecated. Instead, use an instance method. See the documentation at https://docs.pydantic.dev/2.12/concepts/validators/#model-after-validator. Deprecated in Pydantic V2.12 to be removed in V3.0.
    def check_partition_specs(cls, table_metadata: TableMetadata) -> TableMetadata:

mvp/backend/venv/lib/python3.10/site-packages/pyiceberg/table/metadata.py:547
  /Users/tj/Desktop/CommonGround/mvp/backend/venv/lib/python3.10/site-packages/pyiceberg/table/metadata.py:547: PydanticDeprecatedSince212: Using `@model_validator` with mode='after' on a classmethod is deprecated. Instead, use an instance method. See the documentation at https://docs.pydantic.dev/2.12/concepts/validators/#model-after-validator. Deprecated in Pydantic V2.12 to be removed in V3.0.
    def check_sort_orders(cls, table_metadata: TableMetadata) -> TableMetadata:

mvp/backend/venv/lib/python3.10/site-packages/pyiceberg/table/metadata.py:551
  /Users/tj/Desktop/CommonGround/mvp/backend/venv/lib/python3.10/site-packages/pyiceberg/table/metadata.py:551: PydanticDeprecatedSince212: Using `@model_validator` with mode='after' on a classmethod is deprecated. Instead, use an instance method. See the documentation at https://docs.pydantic.dev/2.12/concepts/validators/#model-after-validator. Deprecated in Pydantic V2.12 to be removed in V3.0.
    def construct_refs(cls, table_metadata: TableMetadata) -> TableMetadata:

mvp/backend/app/schemas/user.py:7
  /Users/tj/Desktop/CommonGround/mvp/backend/app/schemas/user.py:7: PydanticDeprecatedSince20: Support for class-based `config` is deprecated, use ConfigDict instead. Deprecated in Pydantic V2.0 to be removed in V3.0. See Pydantic V2 Migration Guide at https://errors.pydantic.dev/2.12/migration/
    class UserProfileResponse(BaseModel):

mvp/backend/app/schemas/case.py:15
  /Users/tj/Desktop/CommonGround/mvp/backend/app/schemas/case.py:15: PydanticDeprecatedSince20: `min_items` is deprecated and will be removed, use `min_length` instead. Deprecated in Pydantic V2.0 to be removed in V3.0. See Pydantic V2 Migration Guide at https://errors.pydantic.dev/2.12/migration/
    children: list[dict] = Field(..., min_items=1, max_items=20)

mvp/backend/app/schemas/case.py:15
  /Users/tj/Desktop/CommonGround/mvp/backend/app/schemas/case.py:15: PydanticDeprecatedSince20: `max_items` is deprecated and will be removed, use `max_length` instead. Deprecated in Pydantic V2.0 to be removed in V3.0. See Pydantic V2 Migration Guide at https://errors.pydantic.dev/2.12/migration/
    children: list[dict] = Field(..., min_items=1, max_items=20)

mvp/backend/app/schemas/case.py:77
  /Users/tj/Desktop/CommonGround/mvp/backend/app/schemas/case.py:77: PydanticDeprecatedSince20: Support for class-based `config` is deprecated, use ConfigDict instead. Deprecated in Pydantic V2.0 to be removed in V3.0. See Pydantic V2 Migration Guide at https://errors.pydantic.dev/2.12/migration/
    class CaseResponse(BaseModel):

mvp/backend/app/schemas/agreement.py:25
  /Users/tj/Desktop/CommonGround/mvp/backend/app/schemas/agreement.py:25: PydanticDeprecatedSince20: Support for class-based `config` is deprecated, use ConfigDict instead. Deprecated in Pydantic V2.0 to be removed in V3.0. See Pydantic V2 Migration Guide at https://errors.pydantic.dev/2.12/migration/
    class AgreementResponse(BaseModel):

mvp/backend/app/schemas/agreement.py:44
  /Users/tj/Desktop/CommonGround/mvp/backend/app/schemas/agreement.py:44: PydanticDeprecatedSince20: Support for class-based `config` is deprecated, use ConfigDict instead. Deprecated in Pydantic V2.0 to be removed in V3.0. See Pydantic V2 Migration Guide at https://errors.pydantic.dev/2.12/migration/
    class AgreementSectionResponse(BaseModel):

mvp/backend/app/schemas/message.py:108
  /Users/tj/Desktop/CommonGround/mvp/backend/app/schemas/message.py:108: PydanticDeprecatedSince20: Support for class-based `config` is deprecated, use ConfigDict instead. Deprecated in Pydantic V2.0 to be removed in V3.0. See Pydantic V2 Migration Guide at https://errors.pydantic.dev/2.12/migration/
    class MessageFlagResponse(BaseModel):

mvp/backend/app/schemas/message.py:125
  /Users/tj/Desktop/CommonGround/mvp/backend/app/schemas/message.py:125: PydanticDeprecatedSince20: Support for class-based `config` is deprecated, use ConfigDict instead. Deprecated in Pydantic V2.0 to be removed in V3.0. See Pydantic V2 Migration Guide at https://errors.pydantic.dev/2.12/migration/
    class MessageResponse(BaseModel):

mvp/backend/app/schemas/message.py:157
  /Users/tj/Desktop/CommonGround/mvp/backend/app/schemas/message.py:157: PydanticDeprecatedSince20: `min_items` is deprecated and will be removed, use `min_length` instead. Deprecated in Pydantic V2.0 to be removed in V3.0. See Pydantic V2 Migration Guide at https://errors.pydantic.dev/2.12/migration/
    participants: List[str] = Field(..., min_items=2, max_items=10)

mvp/backend/app/schemas/message.py:157
  /Users/tj/Desktop/CommonGround/mvp/backend/app/schemas/message.py:157: PydanticDeprecatedSince20: `max_items` is deprecated and will be removed, use `max_length` instead. Deprecated in Pydantic V2.0 to be removed in V3.0. See Pydantic V2 Migration Guide at https://errors.pydantic.dev/2.12/migration/
    participants: List[str] = Field(..., min_items=2, max_items=10)

mvp/backend/app/schemas/message.py:184
  /Users/tj/Desktop/CommonGround/mvp/backend/app/schemas/message.py:184: PydanticDeprecatedSince20: Support for class-based `config` is deprecated, use ConfigDict instead. Deprecated in Pydantic V2.0 to be removed in V3.0. See Pydantic V2 Migration Guide at https://errors.pydantic.dev/2.12/migration/
    class ThreadResponse(BaseModel):

mvp/backend/app/api/v1/endpoints/messages.py:42
  /Users/tj/Desktop/CommonGround/mvp/backend/app/api/v1/endpoints/messages.py:42: FastAPIDeprecationWarning: `regex` has been deprecated, please use `pattern` instead
    ai_provider: str = Query(default="claude", regex="^(claude|openai|regex)$"),

mvp/backend/app/schemas/schedule.py:41
  /Users/tj/Desktop/CommonGround/mvp/backend/app/schemas/schedule.py:41: PydanticDeprecatedSince20: Support for class-based `config` is deprecated, use ConfigDict instead. Deprecated in Pydantic V2.0 to be removed in V3.0. See Pydantic V2 Migration Guide at https://errors.pydantic.dev/2.12/migration/
    class ScheduleEventResponse(BaseModel):

mvp/backend/app/schemas/schedule.py:83
  /Users/tj/Desktop/CommonGround/mvp/backend/app/schemas/schedule.py:83: PydanticDeprecatedSince20: Support for class-based `config` is deprecated, use ConfigDict instead. Deprecated in Pydantic V2.0 to be removed in V3.0. See Pydantic V2 Migration Guide at https://errors.pydantic.dev/2.12/migration/
    class ExchangeCheckInResponse(BaseModel):

-- Docs: https://docs.pytest.org/en/stable/how-to/capture-warnings.html
=========================== short test summary info ============================
FAILED mvp/backend/tests/system_verification/test_auth_verification.py::test_auth_flow
================== 1 failed, 12 passed, 27 warnings in 8.29s ===================
